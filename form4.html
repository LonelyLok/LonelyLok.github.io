<!DOCTYPE html>
<head>
	<title>Legend</title>
</head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

<body onload = "displaydata()" style = "width: 900px; margin: auto;">
	<h1>Legend Level Question</h1>

		<p>1. Which of the following Henry hate the most?<br/></p>
		<p id="demo1"></p>
		<p>2. What type of music Henry listen the most in 2020?<br/></p>
		<p id = "demo2"></p>
		<p>3. Which of the following Henry will not prefer to consume?</p>
		<p id="demo3"></p>
		<p>4. Which of the following programming language Henry interact the most?</p>
		<p id="demo4"></p>
		<p>5. Which medication Henry take everyday?</p>
		<p id = "demo5"></p>
		<p>6. Which of the following video game type Henry like the most?</p>
		<p id = "demo6"></p>
		<p>7. How many people attend Henry graduation?</p>
		<p id = "demo7"></p>
		<p>8. How many times Henry shower per week?</p>
		<p id ="demo8"></p>
		<p>9. What is Henry salary (USD) when he was a monkey coder?</p>
		<p id = "demo9"></p>
		<p>10. Which cloth brand Henry wear the most?</p>
		<p id = "demo10"></p>

		<p><button onclick = "calculate()">Submit</button></p>


		<p id="dav">0%</p>
		<div class="w3-light-grey">
				<div id = "bar" class = "w3-blue" style = "height:24px;width:0%"></div>
			</div>
			<p><a href ="/pick">Back</a></p>
		<script>

		function displaydata(){

			var test1 = {"Not being on time":1, "Socialize":0, "Coding":0, "Driving":0, "Lying":0};
			var test2 = {"nightcore":0, "edm":0, "piano music":1, "k-pop":0, "chinese-pop":0 };
			var test3 = {"cigarette":0, "alcohol":0, "weed":0,"all of the above":1, "none":0};
			var test4 = {"java":0, "javascript":1, "typescript":0, "python":0, "C++":0};
			var test5 = {"Carbamazepine":1, "Doxepin":0, "Clomipramine":0, "Bupropion":0, "Amoxapine":0};
			var test6 = {"MMORPG":0, "FPS":0, "RTS":0, "Roguelike":0, "Soullike":1}
			var test7 = {};
			var test8 = {};
			var test9 = {};
			var test10 = {};
			var list = [test1,test2,test3,test4,test5,test6,test7,test8,test9,test10];
			for (var j = 0; j < list.length; j++){
				var data = Object.keys(list[j]);
				var output = "";
				var datalist;
				if(j<6){
					for (var i = 0 ; i < data.length; i++){
							var z = (j+1);
							datalist = data[i];
							result = list[j][datalist];
							output += '<input type = "radio" value = '+ result +' name = "topic'+z+'">'+datalist+'<br>';
				}
			}else{
				var z = j + 1;
				output += '<input type="text" id="topic'+z+'" name="topic'+z+'"><br>';
			}

			var a = (j+1);
			document.getElementById("demo"+a).innerHTML = output;

			}


		}
		function calculate(){

			var qname = ["topic1","topic2","topic3","topic4","topic5","topic6","topic7","topic8","topic9","topic10"];
			var a;
			var b = 0;
			for (var j = 0; j < qname.length; j++){
				if(j<6){
					a = qname[j];
					var point = document.querySelector('input[name='+a+']:checked').value;
					var pointt = parseInt(point,10);
					b += pointt;
				}else{
					a = qname[j];
					var map = {"topic7": 0, "topic8":7, "topic9":70000, "topic10": "H&M"}
					var ans = document.getElementById(a).value
					if(String(map[a])===String(ans)){
						b += 1;
					}
				}
		}

			 percent = b*100/10;

			var elem = document.getElementById("bar");
			var width = 0;
			var id = setInterval(frame,10);


		function frame(){
				if (percent == 0){
					elem.style.width = width + '%';

					document.getElementById("dav").innerHTML = 'You got ' + width*1 + '% Correct' ;
				}
				else if (width >= percent){
					clearInterval(id);
				}else{
					width++;
					elem.style.width = width + '%';

					document.getElementById("dav").innerHTML = 'You got ' + width*1 + '% Correct' ;
				}
		}
}

		</script>
</body>
