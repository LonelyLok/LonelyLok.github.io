<DOCTYPE html>
<html>
<style>
  #container{
    position: relative;
    height: 400px;
    width: 600px;
    outline: 1px solid black;
  }
  #char{
    position: absolute;
    height: 10px;
    width: 10px;

    background-color: purple;
    left: 300;
    top: 200;

  }
  #block{
    position: absolute;
    height: 10px;
    width: 10px;
    background-color: red;
    left: 400;
    top: 160;

  }
  </style>
<head>
  <title>box2</title>
  <body>
    <h1> A moving cube 2.0</h1>
    <div id = "container">
      <div id = "char"></div>
      <div id = "block"></div>

      </div>
    <p><button onclick = "run()">Change red block location</button></p>
    <p id = 'demo'></p><br/>
    <p id = 'ddd'></p><br/>
    <a href = "/tool">Back</a>
    <script>
      var char = document.getElementById('char');
      var container = document.getElementById('container');
      var block = document.getElementById('block');
      var charleft = 300;
      var chary = 200;
      var blockleft = 400;
      var blocky = 160;
      function getRandomInt(max) {
          return Math.floor(Math.random() * Math.floor(max));
        }
      function run(){
        blockleft = getRandomInt(590);
        blocky = getRandomInt(390);
        block.style.left = blockleft+'px';
        block.style.top = blocky+'px';

      }

      function move(e){
        if (e.keyCode == 39 && charleft<590){
          charleft +=5;
          char.style.left = charleft + 'px';
          if (charleft > 590){
            charleft -=5;


          }

        }

        if (e.keyCode == 37 && charleft >0){
          charleft -=5;
          char.style.left = charleft + 'px';
          if (charleft < 0){

              charleft +=5;

          }
        }
        if (e.keyCode == 40 && chary < 390){
          chary += 5;
          char.style.top = chary + 'px';
          if (chary > 390){
            chary -= 5;
          }
        }
        if (e.keyCode == 38 && chary >0){
          chary -= 5;
          char.style.top = chary + 'px';
          if (chary < 0){
            chary += 5;
          }
        }
        document.getElementById('demo').innerHTML = "x position: " +charleft+ " y position: "+chary;
          if ((charleft>(blockleft-10) && charleft<(blockleft+10)) && (chary>(blocky-10)) && chary<(blocky+10)){
            document.getElementById('ddd').innerHTML = "Hit";
          }else{
            document.getElementById('ddd').innerHTML = "";
          }

      }

      document.onkeydown = move;


      </script>
    </body>
</html>
